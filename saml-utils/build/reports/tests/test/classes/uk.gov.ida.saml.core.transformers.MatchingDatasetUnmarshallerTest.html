<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class uk.gov.ida.saml.core.transformers.MatchingDatasetUnmarshallerTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class uk.gov.ida.saml.core.transformers.MatchingDatasetUnmarshallerTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/uk.gov.ida.saml.core.transformers.html">uk.gov.ida.saml.core.transformers</a> &gt; MatchingDatasetUnmarshallerTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">11</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.112s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">transform_shoulHandleWhenMatchingDatasetIsPresentAndToDateIsMissingFromCurrentAddress</td>
<td>0.010s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shoulHandleWhenMatchingDatasetIsPresentAndToDateIsMissingFromFirstName</td>
<td>0.015s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shoulHandleWhenMatchingDatasetIsPresentAndToDateIsMissingFromPreviousAddress</td>
<td>0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shoulHandleWhenMatchingDatasetIsPresentAndToDateIsPresentInFirstName</td>
<td>0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldMapMultipleBirthdates</td>
<td>0.007s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldMapMultipleCurrentAddresses</td>
<td>0.006s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldMapMultipleFirstNames</td>
<td>0.010s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldMapMultipleMiddleNames</td>
<td>0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldMapMultiplePreviousAddresses</td>
<td>0.016s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldMapMultipleSurnames</td>
<td>0.009s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transform_shouldTransformAnAssertionIntoAMatchingDataset_1_1</td>
<td>0.015s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>14:58:18.584 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.584 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.584 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.584 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.585 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.585 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.585 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.585 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.586 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.586 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.586 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.584Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.583Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Surname&quot; Name=&quot;MDS_surname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;name1&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;name2&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.587 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.587 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;I8h8V49/rYZt0vmfy5WXzQVKVY2M0fGIaDWYCcurlGM=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.594 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.594 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.594 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.594 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.595 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.595 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.595 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.595 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.596 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.596 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.596 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.594Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.593Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Firstname&quot; Name=&quot;MDS_firstname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;name1&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;name2&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.597 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.597 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;rF8gjsIkHoLnx2kA8vwzU4ZjDzgKsF3wbSI4tBI9O30=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.604 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.604 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.605 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.605 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.605 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.605 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.605 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.605 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.606 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.606 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.606 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.607 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.607 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.604Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.603Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Previous Address&quot; Name=&quot;MDS_previousaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.607 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.607 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;vvQaULd7V96NdSf98jN3Wwnir1ulQ4FVugtku7g6DEI=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.620 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.620 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.620 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.621 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.621 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.621 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.621 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.621 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.622 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.622 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.622 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.623 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.623 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.620Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.619Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Firstname&quot; Name=&quot;MDS_firstname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Middlename(s)&quot; Name=&quot;MDS_middlename&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Surname&quot; Name=&quot;MDS_surname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Gender&quot; Name=&quot;MDS_gender&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:GenderType&quot;&gt;Male&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Date of Birth&quot; Name=&quot;MDS_dateofbirth&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;1991-04-12&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Current Address&quot; Name=&quot;MDS_currentaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Previous Address&quot; Name=&quot;MDS_previousaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.624 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.624 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;TjlfukDjEFjZXRIqbHr9PAPQgsczW0EH4s6/rH4P1Lc=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.635 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.635 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.636 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.636 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.636 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.636 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.636 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.636 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.637 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.637 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.638 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.639 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.635Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.635Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Firstname&quot; Name=&quot;MDS_firstname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Middlename(s)&quot; Name=&quot;MDS_middlename&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Surname&quot; Name=&quot;MDS_surname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Gender&quot; Name=&quot;MDS_gender&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:GenderType&quot;&gt;Male&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Date of Birth&quot; Name=&quot;MDS_dateofbirth&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;1991-04-12&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Current Address&quot; Name=&quot;MDS_currentaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Previous Address&quot; Name=&quot;MDS_previousaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.639 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.639 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;foFfkgWeKzWxk7NOS5GdW31TVhzTtS/GSpIjAtS5fBo=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.649 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.649 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.649 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.649 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.649 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.650 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.650 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.650 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.650 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.652 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.652 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.652 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.653 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.649Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.648Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Firstname&quot; Name=&quot;MDS_firstname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2000-03-05&quot; ida:Language=&quot;en-GB&quot; ida:To=&quot;2001-02-06&quot; ida:Verified=&quot;true&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;Bob&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Middlename(s)&quot; Name=&quot;MDS_middlename&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2000-03-05&quot; ida:Language=&quot;en-GB&quot; ida:To=&quot;2001-02-06&quot; ida:Verified=&quot;true&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;foo&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Surname&quot; Name=&quot;MDS_surname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2000-03-05&quot; ida:Language=&quot;en-GB&quot; ida:To=&quot;2001-02-06&quot; ida:Verified=&quot;true&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;Bobbins&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Gender&quot; Name=&quot;MDS_gender&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2000-03-05&quot; ida:To=&quot;2001-02-06&quot; ida:Verified=&quot;true&quot; xsi:type=&quot;ida:GenderType&quot;&gt;Male&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Date of Birth&quot; Name=&quot;MDS_dateofbirth&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2001-09-08&quot; ida:To=&quot;2002-03-05&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;1986-12-05&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Current Address&quot; Name=&quot;MDS_currentaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2012-08-07&quot; ida:To=&quot;2012-09-08&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:Line&gt;address-line-1&lt;/ida:Line&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Previous Address&quot; Name=&quot;MDS_previousaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:From=&quot;2011-08-07&quot; ida:To=&quot;2012-08-06&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:Line&gt;address-line-2&lt;/ida:Line&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:From=&quot;2010-08-07&quot; ida:To=&quot;2011-08-06&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:Line&gt;address-line-3&lt;/ida:Line&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.653 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.653 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;MHoFzbyHIGn7b31OPwBGXze0PoVQZ3cPgLC3qT28JWA=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.660 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.660 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.661 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.661 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.661 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.661 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.661 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.662 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.662 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.662 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.662 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.663 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.660Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.659Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Middlename(s)&quot; Name=&quot;MDS_middlename&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;name1&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;name2&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.663 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.663 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;KCBwW+WSd1sU2D+M8/eWVRYHtOKhmKHrIt4sJdC77kc=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.668 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.668 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.669 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.669 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.669 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.669 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.669 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.669 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.669 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.669 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.668Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.668Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Date of Birth&quot; Name=&quot;MDS_dateofbirth&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;2012-12-12&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;2011-12-12&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.670 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;hf7gQ8TdNlNTYnkUSyZQ/1AMM/Xai44VvdPJO4AS6u0=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.677 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.677 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.677 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.677 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.677 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.677 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.677 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.677 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.678 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.678 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.678 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.679 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.679 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.677Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.676Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Firstname&quot; Name=&quot;MDS_firstname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:To=&quot;1066-01-05&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Middlename(s)&quot; Name=&quot;MDS_middlename&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Surname&quot; Name=&quot;MDS_surname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Gender&quot; Name=&quot;MDS_gender&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:GenderType&quot;&gt;Male&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Date of Birth&quot; Name=&quot;MDS_dateofbirth&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;1991-04-12&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Current Address&quot; Name=&quot;MDS_currentaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Previous Address&quot; Name=&quot;MDS_previousaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.679 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.679 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;quGyVk9gOWlKn1snjgGfuuoeS71Nun8QThSj2Q179NI=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.685 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.685 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.685 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.685 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.685 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.685 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.685 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.685 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.686 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.686 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.686 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.687 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.687 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.685Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.684Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Firstname&quot; Name=&quot;MDS_firstname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Middlename(s)&quot; Name=&quot;MDS_middlename&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Surname&quot; Name=&quot;MDS_surname&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Language=&quot;en-GB&quot; ida:Verified=&quot;false&quot; xsi:type=&quot;ida:PersonNameType&quot;&gt;John&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Gender&quot; Name=&quot;MDS_gender&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:GenderType&quot;&gt;Male&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Date of Birth&quot; Name=&quot;MDS_dateofbirth&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:DateType&quot;&gt;1991-04-12&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Current Address&quot; Name=&quot;MDS_currentaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;saml2:Attribute FriendlyName=&quot;Previous Address&quot; Name=&quot;MDS_previousaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.687 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.687 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;U0BcEbmz4u2AT8iTvY5y/q7BqS3ubLvJZUjSInK+zB8=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
14:58:18.693 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Examining signed object for content references with exclusive canonicalization transform
14:58:18.693 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectSupport - Saw exclusive transform, declaring non-visible namespaces on signed object
14:58:18.693 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Starting to marshall {http://www.w3.org/2000/09/xmldsig#}Signature
14:58:18.693 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating XMLSignature object
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.algorithms.SignatureAlgorithm - Create URI &quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; class &quot;class org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256&quot;
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmldsig-more#rsa-sha256
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.algorithms.implementations.SignatureBaseRSA - Created SignatureRSA using SHA256withRSA
14:58:18.693 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Adding content to XMLSignature.
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature&quot;
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - Create URI &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; class &quot;class org.apache.xml.security.transforms.implementations.TransformC14NExclusive&quot;
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transform - The NodeList is null
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Transforms.addTransform(http://www.w3.org/2001/10/xml-exc-c14n#)
14:58:18.693 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.693 [Test worker] DEBUG org.opensaml.saml.common.SAMLObjectContentReference - Adding list of inclusive namespaces for signature exclusive canonicalization transform
14:58:18.693 [Test worker] DEBUG org.opensaml.xmlsec.signature.impl.SignatureMarshaller - Creating Signature DOM element
14:58:18.694 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.Signer - Using a signer of implemenation: org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl
14:58:18.694 [Test worker] DEBUG org.opensaml.xmlsec.signature.support.provider.ApacheSantuarioSignerProviderImpl - Computing signature over XMLSignature object
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.algorithms.JCEMapper - Request for URI http://www.w3.org/2001/04/xmlenc#sha256
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - I was asked to create a ResourceResolver and got 0
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.resolver.ResourceResolver - check resolvability by class org.apache.xml.security.utils.resolver.ResourceResolver
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - State I can resolve reference: &quot;#some-assertion-id&quot;
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.resolver.implementations.ResolverFragment - Try to catch an Element with ID some-assertion-id and Element was [saml2:Assertion: null]
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (0)th http://www.w3.org/2000/09/xmldsig#enveloped-signature transform
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ds:Transform&quot;, &quot;null&quot;)
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.transforms.Transforms - Perform the (1)th http://www.w3.org/2001/10/xml-exc-c14n# transform
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.ElementProxy - setElement(&quot;ec:InclusiveNamespaces&quot;, &quot;null&quot;)
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - Pre-digested input:
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.DigesterOutputStream - &lt;saml2:Assertion xmlns:ida=&quot;http://www.cabinetoffice.gov.uk/resource-library/ida/attributes&quot; xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; ID=&quot;some-assertion-id&quot; IssueInstant=&quot;2018-04-03T13:58:18.692Z&quot; Version=&quot;2.0&quot; xsi:type=&quot;saml2:AssertionType&quot;&gt;&lt;saml2:Issuer&gt;a-test-entity&lt;/saml2:Issuer&gt;&lt;saml2:Subject xsi:type=&quot;saml2:SubjectType&quot;&gt;&lt;saml2:NameID Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;&gt;default-pid&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot; xsi:type=&quot;saml2:SubjectConfirmationType&quot;&gt;&lt;saml2:SubjectConfirmationData InResponseTo=&quot;default-request-id&quot; NotOnOrAfter=&quot;2018-04-03T14:13:18.692Z&quot; Recipient=&quot;https://signin.service.gov.uk&quot; xsi:type=&quot;saml2:SubjectConfirmationDataType&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions xsi:type=&quot;saml2:ConditionsType&quot;&gt;&lt;saml2:AudienceRestriction xsi:type=&quot;saml2:AudienceRestrictionType&quot;&gt;&lt;saml2:Audience&gt;https://signin.service.gov.uk&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AttributeStatement xsi:type=&quot;saml2:AttributeStatementType&quot;&gt;&lt;saml2:Attribute FriendlyName=&quot;Current Address&quot; Name=&quot;MDS_currentaddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot; xsi:type=&quot;saml2:AttributeType&quot;&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;saml2:AttributeValue ida:Verified=&quot;false&quot; xsi:type=&quot;ida:AddressType&quot;&gt;&lt;ida:PostCode&gt;RG99 1YY&lt;/ida:PostCode&gt;&lt;ida:InternationalPostCode&gt;RG88 1ZZ&lt;/ida:InternationalPostCode&gt;&lt;ida:UPRN&gt;79347894352&lt;/ida:UPRN&gt;&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - Canonicalized SignedInfo:
14:58:18.694 [Test worker] DEBUG org.apache.xml.security.utils.SignerOutputStream - &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;
&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;
&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;
&lt;ds:Reference URI=&quot;#some-assertion-id&quot;&gt;
&lt;ds:Transforms&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;
&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;ida&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;&lt;/ds:Transform&gt;
&lt;/ds:Transforms&gt;
&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;
&lt;ds:DigestValue&gt;Xt31IDdIC3uoK5k+mMQIhu2JkAiDNFv84Q+TK2MQgR4=&lt;/ds:DigestValue&gt;
&lt;/ds:Reference&gt;
&lt;/ds:SignedInfo&gt;
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.0</a> at 03-Apr-2018 14:58:18</p>
</div>
</div>
</body>
</html>
